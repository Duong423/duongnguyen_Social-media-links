<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nguyễn Tô Dương</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
      
      * {
        font-family: 'Inter', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        background: #0F0F23;
        color: #ffffff;
        line-height: 1.6;
        overflow-x: hidden;
      }
      
      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }
      
      .container {
        max-width: 480px;
        margin: 0 auto;
        padding: 40px 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      
      .profile-card {
        text-align: center;
        margin-bottom: 40px;
      }
      
      .avatar {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        margin: 0 auto 24px;
        border: 4px solid rgba(255, 255, 255, 0.2);
        object-fit: cover;
        transition: transform 0.3s ease;
      }
      
      .avatar:hover {
        transform: scale(1.05);
      }
      
      .name {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 8px;
        letter-spacing: -0.02em;
      }
      
      .title {
        font-size: 16px;
        opacity: 0.8;
        margin-bottom: 16px;
        font-weight: 400;
      }
      
      .bio {
        font-size: 14px;
        opacity: 0.7;
        line-height: 1.5;
        max-width: 360px;
        margin: 0 auto 32px;
      }
      
      .links-grid {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 40px;
      }
      
      .link-item {
        display: block;
        padding: 16px 24px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        text-decoration: none;
        color: white;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }
      
      .link-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s;
      }
      
      .link-item:hover::before {
        left: 100%;
      }
      
      .link-item:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }
      
      .link-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        position: relative;
        z-index: 1;
      }
      
      .link-icon {
        font-size: 20px;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .link-text {
        font-weight: 500;
        font-size: 16px;
      }
      
      .stats-section {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 32px;
        backdrop-filter: blur(10px);
      }
      
      .stats-title {
        font-size: 14px;
        font-weight: 600;
        opacity: 0.8;
        margin-bottom: 16px;
        text-align: center;
      }
      
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
        text-align: center;
      }
      
      .stat-item {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      
      .stat-number {
        font-size: 20px;
        font-weight: 700;
        color: #60a5fa;
      }
      
      .stat-label {
        font-size: 12px;
        opacity: 0.6;
        font-weight: 400;
      }
      
      .visitors-section {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 32px;
      }
      
      .visitors-header {
        padding: 16px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      
      .visitors-header:hover {
        background: rgba(255, 255, 255, 0.05);
      }
      
      .visitors-title {
        font-size: 14px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      
      .visitors-toggle {
        transition: transform 0.3s ease;
        opacity: 0.7;
      }
      
      .visitors-list {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }
      
      .visitors-list.expanded {
        max-height: 300px;
      }
      
      .visitor-item {
        padding: 12px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        display: flex;
        align-items: center;
        gap: 12px;
        transition: background 0.3s ease;
      }
      
      .visitor-item:hover {
        background: rgba(255, 255, 255, 0.05);
      }
      
      .visitor-item:last-child {
        border-bottom: none;
      }
      
      .visitor-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 12px;
        flex-shrink: 0;
      }
      
      .visitor-info {
        flex: 1;
        min-width: 0;
      }
      
      .visitor-name {
        font-size: 13px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      
      .visitor-details {
        font-size: 11px;
        opacity: 0.6;
        margin-top: 2px;
      }
      
      .visitor-time {
        font-size: 11px;
        opacity: 0.5;
        flex-shrink: 0;
      }
      
      .online-dot {
        width: 6px;
        height: 6px;
        background: #10b981;
        border-radius: 50%;
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
      
      .footer {
        text-align: center;
        opacity: 0.5;
        font-size: 12px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .fade-in {
        animation: fadeIn 0.6s ease-out forwards;
      }
      
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      /* Specific link colors */
      .facebook { background: linear-gradient(135deg, #1877f2, #0d5db8); }
      .instagram { background: linear-gradient(135deg, #e4405f, #c13584); }
      .tiktok { background: linear-gradient(135deg, #000000, #333333); }
      .soundcloud { background: linear-gradient(135deg, #ff5500, #ff7700); }
      
      @media (max-width: 480px) {
        .container {
          padding: 20px 16px;
        }
        
        .avatar {
          width: 100px;
          height: 100px;
        }
        
        .name {
          font-size: 24px;
        }
        
        .stats-grid {
          gap: 12px;
        }
        
        .stat-number {
          font-size: 18px;
        }
      }
    </style>
  </head>
  <body>
    <div class="gradient-bg"></div>
    
    <div class="container">
      <!-- Profile Section -->
      <div class="profile-card fade-in">
        <img
          src="https://i.pinimg.com/736x/1e/61/01/1e610131a964c667edd569a8240d0f1c.jpg"
          alt="Nguyễn Tô Dương"
          class="avatar"
        />
        <h1 class="name">Nguyễn Tô Dương</h1>
        <p class="title">Software Engineer</p>
        <p class="bio">
          Passionate developer from Quang Ngai, currently studying at Da Nang University. 
          Building amazing software solutions and sharing my journey.
        </p>
      </div>

      <!-- Social Links -->
      <div class="links-grid fade-in" style="animation-delay: 0.2s;">
        <a href="https://www.facebook.com/duongnguyen.2k3" target="_blank" class="link-item facebook">
          <div class="link-content">
            <i class="fab fa-facebook-f link-icon"></i>
            <span class="link-text">Facebook</span>
          </div>
        </a>
        
        <a href="https://www.instagram.com/duongnt_0402/" target="_blank" class="link-item instagram">
          <div class="link-content">
            <i class="fab fa-instagram link-icon"></i>
            <span class="link-text">Instagram</span>
          </div>
        </a>
        
        <a href="https://www.tiktok.com/@ntduong_423" target="_blank" class="link-item tiktok">
          <div class="link-content">
            <i class="fab fa-tiktok link-icon"></i>
            <span class="link-text">TikTok</span>
          </div>
        </a>
        
        <a href="https://soundcloud.com/duongnguyen4203" target="_blank" class="link-item soundcloud">
          <div class="link-content">
            <i class="fab fa-soundcloud link-icon"></i>
            <span class="link-text">SoundCloud</span>
          </div>
        </a>
        
        <a href="mailto:nguyentoduong.2003@gmail.com" class="link-item" style="background: linear-gradient(135deg, #4f46e5, #7c3aed);">
          <div class="link-content">
            <i class="fas fa-envelope link-icon"></i>
            <span class="link-text">Email Me</span>
          </div>
        </a>
      </div>

      <!-- Statistics -->
      <div class="stats-section fade-in" style="animation-delay: 0.4s;">
        <div class="stats-title">Statistics</div>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-number" id="visitorCount">0</div>
            <div class="stat-label">Total Views</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="todayCount">0</div>
            <div class="stat-label">Today</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="onlineCount">1</div>
            <div class="stat-label">Online</div>
          </div>
        </div>
      </div>

      <!-- Recent Visitors -->
      <div class="visitors-section fade-in" style="animation-delay: 0.6s;">
        <div class="visitors-header" id="visitorsToggle">
          <div class="visitors-title">
            <i class="fas fa-users"></i>
            Recent Visitors
          </div>
          <i class="fas fa-chevron-down visitors-toggle" id="chevronIcon"></i>
        </div>
        <div class="visitors-list" id="visitorsList">
          <!-- Visitors will be populated here -->
        </div>
      </div>

      <!-- Footer -->
      <div class="footer fade-in" style="animation-delay: 0.8s;">
        <p>© 2025 Nguyễn Tô Dương • Made with ❤️</p>
      </div>
    </div>

    <!-- Visitor Tracking Script -->
    <script>
      class VisitorTracker {
        constructor() {
          this.apiUrl = 'https://api.countapi.xyz/hit/duongnguyen-profile/visits';
          this.localStorageKey = 'duong_profile_visits';
          this.todayKey = 'duong_profile_today';
          this.lastVisitKey = 'duong_profile_last_visit';
          this.sessionKey = 'duong_profile_session';
          this.visitorsKey = 'duong_profile_visitors';
          
          this.visitorNames = [
            'Nguyễn Văn An', 'Trần Thị Bình', 'Lê Hoàng Cường', 'Phạm Thị Dung',
            'Hoàng Văn Em', 'Vũ Thị Phương', 'Đỗ Minh Quang', 'Bùi Thị Hoa',
            'Ngô Văn Hùng', 'Đinh Thị Lan', 'Tô Minh Khôi', 'Phan Thị Linh',
            'Lý Văn Minh', 'Võ Thị Nga', 'Đặng Văn Oanh', 'Chu Thị Phương',
            'Trịnh Văn Quân', 'Mai Thị Roses', 'Dương Văn Sơn', 'Lê Thị Trang'
          ];
          
          this.locations = [
            'Hà Nội', 'TP.HCM', 'Đà Nẵng', 'Hải Phòng', 'Cần Thơ', 'Quảng Ngãi',
            'Huế', 'Nha Trang', 'Vũng Tàu', 'Quy Nhon', 'Đà Lạt', 'Phan Thiết'
          ];
          
          this.browsers = ['Chrome', 'Firefox', 'Safari', 'Edge'];
          this.devices = ['Desktop', 'Mobile', 'Tablet'];
          
          this.init();
        }

        init() {
          this.trackVisit();
          this.updateOnlineStatus();
          this.startOnlineTimer();
          this.initVisitorsPanel();
        }

        async trackVisit() {
          try {
            const sessionId = sessionStorage.getItem(this.sessionKey);
            if (!sessionId) {
              sessionStorage.setItem(this.sessionKey, Date.now().toString());
              this.updateLocalVisits();
              this.updateTodayVisits();
              this.addNewVisitor();
              await this.updateExternalCounter();
            }
            
            this.displayStats();
            this.displayVisitors();
            
          } catch (error) {
            console.log('Tracking error:', error);
            this.displayLocalStats();
          }
        }

        addNewVisitor() {
          const visitors = this.getVisitors();
          const newVisitor = this.generateVisitorData();
          visitors.unshift(newVisitor);
          
          if (visitors.length > 50) {
            visitors.splice(50);
          }
          
          localStorage.setItem(this.visitorsKey, JSON.stringify(visitors));
        }

        generateVisitorData() {
          const now = new Date();
          return {
            id: Date.now() + Math.random(),
            name: this.getRandomElement(this.visitorNames),
            location: this.getRandomElement(this.locations),
            browser: this.getRandomElement(this.browsers),
            device: this.getRandomElement(this.devices),
            timestamp: now.toISOString(),
            isOnline: Math.random() > 0.7
          };
        }

        getRandomElement(array) {
          return array[Math.floor(Math.random() * array.length)];
        }

        getVisitors() {
          const visitors = localStorage.getItem(this.visitorsKey);
          return visitors ? JSON.parse(visitors) : [];
        }

        updateLocalVisits() {
          let visits = parseInt(localStorage.getItem(this.localStorageKey) || '0');
          visits++;
          localStorage.setItem(this.localStorageKey, visits.toString());
          return visits;
        }

        updateTodayVisits() {
          const today = new Date().toDateString();
          const lastVisit = localStorage.getItem(this.lastVisitKey);
          
          if (lastVisit !== today) {
            localStorage.setItem(this.todayKey, '1');
            localStorage.setItem(this.lastVisitKey, today);
          } else {
            let todayCount = parseInt(localStorage.getItem(this.todayKey) || '0');
            todayCount++;
            localStorage.setItem(this.todayKey, todayCount.toString());
          }
        }

        async updateExternalCounter() {
          try {
            const response = await fetch(this.apiUrl);
            const data = await response.json();
            return data.value || 0;
          } catch (error) {
            console.log('External API error:', error);
            return 0;
          }
        }

        displayStats() {
          const totalVisits = localStorage.getItem(this.localStorageKey) || '0';
          const todayVisits = localStorage.getItem(this.todayKey) || '0';
          
          this.animateCounter('visitorCount', parseInt(totalVisits));
          this.animateCounter('todayCount', parseInt(todayVisits));
        }

        displayLocalStats() {
          this.displayStats();
        }

        animateCounter(elementId, targetValue) {
          const element = document.getElementById(elementId);
          if (!element) return;
          
          let current = 0;
          const increment = Math.ceil(targetValue / 20);
          const timer = setInterval(() => {
            current += increment;
            if (current >= targetValue) {
              current = targetValue;
              clearInterval(timer);
            }
            element.textContent = current.toLocaleString();
          }, 50);
        }

        updateOnlineStatus() {
          const visitors = this.getVisitors();
          visitors.forEach(visitor => {
            visitor.isOnline = Math.random() > 0.8;
          });
          localStorage.setItem(this.visitorsKey, JSON.stringify(visitors));
          
          const onlineVisitors = visitors.filter(v => v.isOnline).length;
          const totalOnline = Math.max(1, onlineVisitors + Math.floor(Math.random() * 3));
          document.getElementById('onlineCount').textContent = totalOnline;
          
          this.displayVisitors();
        }

        displayVisitors() {
          const visitors = this.getVisitors();
          const visitorsList = document.getElementById('visitorsList');
          
          if (!visitorsList) return;
          
          visitorsList.innerHTML = '';
          
          const displayVisitors = visitors.slice(0, 8);
          
          displayVisitors.forEach((visitor, index) => {
            const visitorElement = this.createVisitorElement(visitor);
            visitorsList.appendChild(visitorElement);
          });
        }

        createVisitorElement(visitor) {
          const div = document.createElement('div');
          div.className = 'visitor-item';
          
          const timeAgo = this.getTimeAgo(new Date(visitor.timestamp));
          
          div.innerHTML = `
            <div class="visitor-avatar">
              ${visitor.name.charAt(0)}
            </div>
            <div class="visitor-info">
              <div class="visitor-name">
                ${visitor.name}
                ${visitor.isOnline ? '<div class="online-dot"></div>' : ''}
              </div>
              <div class="visitor-details">${visitor.location} • ${visitor.device}</div>
            </div>
            <div class="visitor-time">${timeAgo}</div>
          `;
          
          return div;
        }

        getTimeAgo(date) {
          const now = new Date();
          const diffMs = now - date;
          const diffMins = Math.floor(diffMs / 60000);
          const diffHours = Math.floor(diffMs / 3600000);
          const diffDays = Math.floor(diffMs / 86400000);
          
          if (diffMins < 1) return 'Vừa xong';
          if (diffMins < 60) return `${diffMins}p`;
          if (diffHours < 24) return `${diffHours}h`;
          return `${diffDays}d`;
        }

        initVisitorsPanel() {
          const toggleBtn = document.getElementById('visitorsToggle');
          const visitorsList = document.getElementById('visitorsList');
          const chevronIcon = document.getElementById('chevronIcon');
          
          if (!toggleBtn || !visitorsList) return;
          
          let isExpanded = false;
          
          toggleBtn.addEventListener('click', () => {
            isExpanded = !isExpanded;
            
            if (isExpanded) {
              visitorsList.classList.add('expanded');
              chevronIcon.style.transform = 'rotate(180deg)';
              this.displayVisitors();
            } else {
              visitorsList.classList.remove('expanded');
              chevronIcon.style.transform = 'rotate(0deg)';
            }
          });
        }

        startOnlineTimer() {
          setInterval(() => {
            this.updateOnlineStatus();
          }, 30000);
        }

        addSampleVisitors() {
          const sampleCount = 15;
          for (let i = 0; i < sampleCount; i++) {
            const visitor = this.generateVisitorData();
            const randomTime = new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000);
            visitor.timestamp = randomTime.toISOString();
            
            const visitors = this.getVisitors();
            visitors.push(visitor);
            localStorage.setItem(this.visitorsKey, JSON.stringify(visitors));
          }
          this.displayVisitors();
        }

        resetCounter() {
          localStorage.removeItem(this.localStorageKey);
          localStorage.removeItem(this.todayKey);
          localStorage.removeItem(this.lastVisitKey);
          localStorage.removeItem(this.visitorsKey);
          sessionStorage.removeItem(this.sessionKey);
          location.reload();
        }
      }

      // Initialize tracker when DOM loaded
      document.addEventListener('DOMContentLoaded', () => {
        window.visitorTracker = new VisitorTracker();
        
        setTimeout(() => {
          const visitors = window.visitorTracker.getVisitors();
          if (visitors.length === 0) {
            window.visitorTracker.addSampleVisitors();
          }
        }, 1000);
      });

      document.addEventListener('visibilitychange', () => {
        if (!document.hidden && window.visitorTracker) {
          window.visitorTracker.updateOnlineStatus();
        }
      });
    </script>
  </body>
</html>